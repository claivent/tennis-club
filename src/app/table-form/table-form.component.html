<form
  class="table-form px-5"
  autocomplete="off"
  [formGroup]="tableForm"
  (ngSubmit)="submitForm()"
>
  <div class="form-floating mb-3">
    <input
      class="form-control text-center"
      type="text"
      id="name"
      formControlName="name"
      placeholder="Name"
      required
    />
    <label class="text-center" for="name">Name</label>
  </div>

  <div
    *ngIf="name.invalid && (name.dirty || name.touched)"
    class="alert alert-danger"
  >
    <div *ngIf="name.errors?.['required']">Name is required.</div>
    <div *ngIf="name.errors?.['minlength']">
      Name must be at least 3 characters long.
    </div>
  </div>

  <div class="form-floating mb-3">
    <div ngbDropdown [formGroup]="tableForm" class="w-100">
      <button class="btn btn-outline-success dropdown-toggle w-100" id="partyDropdown" ngbDropdownToggle type="button">
        {{ tableForm.get('party')?.value === 2 ? 'Singles' : (tableForm.get('party')?.value === 4 ? 'Doubles' : 'Select Match') }}
      </button>
      <div ngbDropdownMenu aria-labelledby="partyDropdown">
        <button class="dropdown-item" type="button" (click)="tableForm.patchValue({ party: 2 })">Singles</button>
        <button class="dropdown-item" type="button" (click)="tableForm.patchValue({ party: 4 })">Doubles</button>
      </div>
    </div>
  </div>
  <div *ngIf="party.invalid && (party.dirty || party.touched)" class="alert alert-danger">
    <div *ngIf="party.errors?.['required']">Match type is required.</div>
  </div>

  <div class="form-floating mb-3">
    <div ngbDropdown [formGroup]="tableForm">
      <button
        class="btn btn-outline-success dropdown-toggle w-100"
        id="timeDropdown"
        ngbDropdownToggle
        type="button"
      >
        {{ tableForm.get('time')?.value || 'Start Time' }}
      </button>
      <div ngbDropdownMenu aria-labelledby="timeDropdown">
        <button
          class="dropdown-item"
          type="button"
          [disabled]="tableForm.get('time')?.value === '06:00'"
          (click)="tableForm.patchValue({ time: '06:00' })"
        >
          06:00AM
        </button>
        <button
          class="dropdown-item"
          type="button"
          [disabled]="tableForm.get('time')?.value === '08:00'"
          (click)="tableForm.patchValue({ time: '08:00' })"
        >
          08:00AM
        </button>
        <button
          class="dropdown-item"
          type="button"
          [disabled]="tableForm.get('time')?.value === '10:00'"
          (click)="tableForm.patchValue({ time: '10:00' })"
        >
          10:00AM
        </button>
        <button
          class="dropdown-item"
          type="button"
          [disabled]="tableForm.get('time')?.value === '12:00'"
          (click)="tableForm.patchValue({ time: '12:00' })"
        >
          12:00PM
        </button>
        <button
          class="dropdown-item"
          type="button"
          [disabled]="tableForm.get('time')?.value === '14:00'"
          (click)="tableForm.patchValue({ time: '14:00' })"
        >
          02:00PM
        </button>
        <button
          class="dropdown-item"
          type="button"
          [disabled]="tableForm.get('time')?.value === '16:00'"
          (click)="tableForm.patchValue({ time: '16:00' })"
        >
          04:00PM
        </button>
      </div>
    </div>
  </div>
  <div class="button-footer text-center mb-5">
    <button
      class="btn btn-success me-2 w-100"
      type="submit"
      [disabled]="tableForm.invalid"
    >
      Submit
    </button>
    
    
  </div>
</form>


    <div class="button-footer text-center mb-5">
      <button
      class="btn btn-outline-danger me-2"
      (click)="deleteTable()"
    >
      Delete
    </button>
      
      <a class="btn btn-outline-success" href="/tables" role="button">Go Back</a>
    </div>    